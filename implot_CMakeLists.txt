cmake_minimum_required(VERSION 3.20)
project(implot VERSION 1.92.5)

set(IMPLOT_SOURCES
    implot.cpp
    implot_demo.cpp
    implot_items.cpp
)

add_library(implot STATIC ${IMPLOT_SOURCES})
add_library(implot::implot ALIAS implot)

target_include_directories(implot PUBLIC
    $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}>
    $<INSTALL_INTERFACE:include>
    $<INSTALL_INTERFACE:include/implot>
)

if(NOT TARGET imgui::imgui)
    find_package(imgui REQUIRED)
endif()

target_link_libraries(implot PUBLIC imgui::imgui)